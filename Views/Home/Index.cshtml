@page

<style>
    .monsters 
    , .items{
        border: 1px solid black;
        padding: 1em;
        margin: 1em;
    }
</style>

<div id="app">
    <div v-if="!gameState.isLoaded" class="loading">
        Loading...
    </div>
    <div v-if="gameState.isLoaded">
        game log:
        <textarea rows="20" cols="50" readonly class="messages">
            {{ uiState.logMessages }}
        </textarea>

        <div class="monsters">
            nearby monsters: 
            <br>
            <div v-for="monster in digState.nearbyMonsters">
                {{ monster.name }} ({{ monster.currentHealth }} / {{ monster.maxHealth }})
            </div>
        </div>

        <div class="items">
            items:
            <br>
            <div v-for="playerItem in playerItems">
                {{ playerItem.name }}
            </div>
        </div>

        <div>
            money: {{ playerState.money }}
        </div>

        <div>
            digging: {{ digState.hasDigState && !digState.isPaused }}
            <div v-if="digState.hasDigState">
                <div>

                depth: {{ digState.depth }}
                    </div>
                fuel: {{ digState.fuel }}
            </div>
        </div>

        <button v-if="!digState.hasDigState || digState.isPaused" v-on:click="start">start dig</button>
        <button v-if="digState.hasDigState && !digState.isPaused" v-on:click="stop">stop dig</button>
    </div>
</div>

<script src="~/lib/signalr/dist/browser/signalr.js"></script>
<script src="~/js/vue.js"></script>
<script src="~/js/vue-app.js"></script>